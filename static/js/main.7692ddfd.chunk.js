(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(23)},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),o=a(10),c=a(1),u=a(2),i=a(4),p=a(3),h=a(5),m=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("form",{onSubmit:function(t){return e.props.onSearchSubmit(t)}},r.a.createElement("label",null,"Search for a location",r.a.createElement("input",{type:"text",name:"search",placeholder:"Enter a location here"})),r.a.createElement("button",null,"Explore!")))}}]),t}(n.Component),d=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t,a=this;return e=this.props.backendBoolean?"":r.a.createElement("form",{onSubmit:function(e){return a.props.onBackendSubmit(e)}},r.a.createElement("label",null,"Enter the URL to your deployed back end, making sure to remove the trailing forward slash",r.a.createElement("input",{type:"text",name:"backend",placeholder:"Enter backend url"}))),t=this.props.geocodeBoolean||localStorage.getItem("geocode")?"":r.a.createElement("form",{onSubmit:function(e){return a.props.onGeocodeSubmit(e)}},r.a.createElement("label",null,"Enter your Geocoding API Key:",r.a.createElement("input",{type:"text",name:"geocode",placeholder:"Enter your Google API Key"}))),r.a.createElement(n.Fragment,null,e,t)}}]),t}(n.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=[];if(null!==this.props.results){for(var a=0;a<this.props.results.length;a++)t.push(r.a.createElement("li",{key:a},"The forecast for ",this.props.results[a].time," is: ",this.props.results[a].forecast,"."));e=this.props.calculateAge(this.props.results[0].created_at)}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"result"},r.a.createElement("h2",null,"Results from the Dark Sky API"),r.a.createElement("h4",null,e),r.a.createElement("ul",null,t)))}}]),t}(n.Component),g=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=[];if(null!==this.props.results){for(var a=0;a<this.props.results.length;a++)t.push(r.a.createElement("li",{key:a},r.a.createElement("a",{href:this.props.results[a].url},this.props.results[a].name),r.a.createElement("p",null,"The average rating is ",this.props.results[a].rating," out of 5 and the average cost is ",this.props.results[a].price," out of 4"),r.a.createElement("img",{src:this.props.results[a].image_url,alt:"Yelp"})));e=this.props.calculateAge(this.props.results[0].created_at)}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"result"},r.a.createElement("h2",null,"Results from the Yelp API"),r.a.createElement("h4",null,e),r.a.createElement("ul",null,t)))}}]),t}(n.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=[];if(null!==this.props.results){for(var a=0;a<this.props.results.length;a++)t.push(r.a.createElement("li",{key:a},r.a.createElement("a",{href:this.props.results[a].link},this.props.results[a].name),r.a.createElement("p",null,"Event Date: ",this.props.results[a].event_date),r.a.createElement("p",null,this.props.results[a].summary)));e=this.props.calculateAge(this.props.results[0].created_at)}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"result"},r.a.createElement("h2",null,"Results from the Eventbrite API"),r.a.createElement("h4",null,e),r.a.createElement("ul",null,t)))}}]),t}(n.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=[];if(null!==this.props.results){for(var a=0;a<this.props.results.length;a++)t.push(r.a.createElement("li",{key:a},r.a.createElement("p",null,this.props.results[a].title," was released on ",this.props.results[a].released_on,". Out of ",this.props.results[a].total_votes,", ",this.props.results[a].title," has an average vote of ",this.props.results[a].average_votes," and a popularity score of ",this.props.results[a].popularity),r.a.createElement("p",null,this.props.results[a].summary),r.a.createElement("img",{src:this.props.results[a].image_url,alt:"Movies"}),r.a.createElement("p",null,this.props.results[a].overview)));e=this.props.calculateAge(this.props.results[0].created_at)}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"result"},r.a.createElement("h2",null,"Results from The MoviesDB API"),r.a.createElement("h4",null,e),r.a.createElement("ul",null,t)))}}]),t}(n.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=[];if(null!==this.props.results){for(var a=0;a<this.props.results.length;a++)t.push(r.a.createElement("li",{key:a},r.a.createElement("p",null,"Hike Name: ",this.props.results[a].name,", Location: ",this.props.results[a].location,", Distance: ",this.props.results[a].length),r.a.createElement("p",null,"On ",this.props.results[a].condition_date," at ",this.props.results[a].condition_time,", trail conditions were reported as: ",this.props.results[a].conditions),r.a.createElement("p",null,"This trail has a rating of ",this.props.results[a].stars," stars (out of ",this.props.results[a].star_votes," votes)"),r.a.createElement("p",null,this.props.results[a].summary)));e=this.props.calculateAge(this.props.results[0].created_at)}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"result"},r.a.createElement("h2",null,"Results from The MoviesDB API"),r.a.createElement("h4",null,e),r.a.createElement("ul",null,t)))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(p.a)(t).call(this,e))).calculateAge=function(e){if(!e)return"TBD";var t=Date.now()-e;return t>864e5?"Updated : ".concat(Math.floor(t/864e5)," days ago"):t>36e5?"Updated : ".concat(Math.floor(t/36e5)," hours ago"):t>6e4?"Updated : ".concat(Math.floor(t/6e4)," minutes ago"):t>1e3?"Updated : ".concat(Math.floor(t/1e3)," seconds ago"):"Just updated"},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;return null!==this.props.result&&(e=r.a.createElement("h2",null,"Here are the results for ",this.props.result.formatted_query)),r.a.createElement(n.Fragment,null,e,r.a.createElement("div",{className:"result-container"},r.a.createElement(b,{results:this.props.weather,calculateAge:this.calculateAge}),r.a.createElement(g,{results:this.props.yelp,calculateAge:this.calculateAge}),r.a.createElement(f,{results:this.props.events,calculateAge:this.calculateAge}),r.a.createElement(E,{results:this.props.movies,calculateAge:this.calculateAge}),r.a.createElement(v,{results:this.props.trails,calculateAge:this.calculateAge})))}}]),t}(n.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:this.props.location,alt:"Map"}))}}]),t}(n.Component),j=a(6),k=a.n(j),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={geocodeBoolean:!1,backendBoolean:!1,backendUrl:"",geocodeKey:JSON.parse(localStorage.getItem("geocode"))},a.onGeocodeSubmit=function(e){e.preventDefault(),a.setState({geocodeKey:e.target.geocode.value}),a.setState({geocodeBoolean:!0}),localStorage.setItem("geocode",JSON.stringify(e.target.geocode.value))},a.onBackendSubmit=function(e){e.preventDefault(),a.setState({backendUrl:e.target.backend.value}),a.setState({backendBoolean:!0})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;return e=(this.state.geocodeBoolean||localStorage.getItem("geocode"))&&this.state.backendBoolean?r.a.createElement(B,{geocodeKey:this.state.geocodeKey,backendUrl:this.state.backendUrl}):r.a.createElement(d,{onGeocodeSubmit:this.onGeocodeSubmit,onBackendSubmit:this.onBackendSubmit,backendBoolean:this.state.backendBoolean,geocodeBoolean:this.state.geocodeBoolean}),r.a.createElement(n.Fragment,null,r.a.createElement(A,null),e)}}]),t}(n.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"City Explorer"),r.a.createElement("p",null,"Enter a location below to learn about the weather, events, restaurants, movies, and more!"))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(p.a)(t).call(this,e))).state={location:null,geocodeKey:a.props.geocodeKey,backendUrl:a.props.backendUrl,locationUrl:null,result:null,weather:null,yelp:null,events:null,movies:null,trails:null},a.onSearchChange=function(e){a.setState({location:e.target.value})},a.onSearchSubmit=function(e){e.preventDefault(),a.setState({location:e.target.search.value},function(){a.getLocation()})},a.getLocation=function(){return k.a.get("".concat(a.props.backendUrl,"/location")).query({data:a.state.location}).then(function(e){a.setState({result:e.body,locationUrl:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(e.body.latitude,"%2c%20").concat(e.body.longitude,"&zoom=13&size=600x300&maptype=roadmap&key=").concat(a.props.geocodeKey)}),a.backend(e,"weather"),a.backend(e,"yelp"),a.backend(e,"events"),a.backend(e,"movies"),a.backend(e,"trails")})},a.backend=function(e,t){return k.a.get("".concat(a.props.backendUrl,"/").concat(t)).query({data:e.body}).then(function(e){a.setState(Object(o.a)({},t,e.body))})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;return null!==this.state.location&&(e=r.a.createElement(n.Fragment,null,r.a.createElement(O,{location:this.state.locationUrl}),r.a.createElement(y,{result:this.state.result,weather:this.state.weather,yelp:this.state.yelp,events:this.state.events,movies:this.state.movies,trails:this.state.trails}),";")),r.a.createElement(n.Fragment,null,r.a.createElement(m,{location:this.state.location,onSearchSubmit:this.onSearchSubmit}),e)}}]),t}(n.Component),w=S;a(22);s.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.7692ddfd.chunk.js.map